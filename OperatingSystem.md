# OS
## 进程
### 构成
虚拟的私有地址空间

代码

数据

其他系统资源组成
## 线程
线程是进程内的一个执行单元
## 线程模型
1. 用户级线程模型（M:1）

2. 内核级线程模型（1:1，java.lang.Thread;开销比较大，都需要OS）

3. 两级线程模型（M：N）

一个进程中创建多个KSE，并且线程可以与不同的KSE在运行时动态进行关联，当某个KSE由于其上工作的线程被阻塞而被调度出CPU的时候，其余用户线程可以重新与KSE建立关系。

根据资源访问权限的差别：其体系结构可以分为用户空间和内核空间。

### 内核空间
操作系统的内核运行的区域，包含了操作系统内核代码、数据结构、设备驱动程序等。

内核态:可以访问所有空间

访问CPU资源

I/O资源

内存资源等硬件资源

### 用户空间
用户空间是用户应用程序运行的区域，应用程序代码、数据和堆栈。

用户态:只能访问局部内存

用户空间只能通过系统调用函数库或者是shell脚本调用内核空间提供的资源

我们此时此刻所提的线程往往是用户态的线程，与操作系统内核态线程有所区别

https://www.cnblogs.com/DCFV/p/18410938

### 进入内核态
系统调用

异常

外围设备中断

## 死锁
循环等待，互斥使用，请求保持和不可抢占

## IO 

### IO模型
信号驱动IO
    IO事件发生以后，内核会向进程发送信号
阻塞IO
    涉及IO，线程会阻塞，直到IO完成
非阻塞IO
    处理其他业务，进程轮询
异步非阻塞IO：
    不轮询，回调函数，数据准备好以后调用
IO复用

### 多路复用
https://blog.csdn.net/xwnxwn/article/details/136135867

select
    readfds:内核检测该集合中的IO是否可读。需要手动加入文件描述符

    writefds:内核检测该集合中的IO是否可写。需要手动加入文件描述符

    exceptfds:内核检测该集合中的IP是否异常。同上

    nfds:以上三个集合中最大的文件描述符数值+1

    timeout:用户线程调用select的超时时长：null一直等待，0不等待

    返回值：>0 成功 =-1 调用失败 =0 没有就绪的IO

pselect

poll

epoll
